<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Electricity Rate Calculator</title><style>body{font-family:Arial,sans-serif;background-color:#f4f9f4;color:#333;margin:0;padding:20px}table{width:100%;border-collapse:collapse;margin-bottom:20px}table,th,td{border:1px solid #4CAF50}th,td{padding:10px;text-align:center}th{background-color:#e8f5e9}label{font-weight:bold;display:block;margin-bottom:10px}input[type="number"]{width:100%;padding:10px;border:2px solid #4CAF50;border-radius:5px;box-sizing:border-box;font-size:1rem;position:relative;z-index:1;background-color:#fff;transition:border-color .3s ease,box-shadow .3s ease}input[type="number"]:focus{border-color:#388E3C;outline:none}#r{font-size:1.2rem;font-weight:bold;margin-top:20px}#r.a{animation:b .3s ease-out;color:#FABB00;text-shadow:0 0 10px #FFD700}#r.c{animation:d .3s ease-out;color:#FF8C00;text-shadow:0 0 15px #FF8C00}#r.e{animation:f .3s ease-out;color:#FF4500;text-shadow:0 0 20px #FF4500}@keyframes b{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}@keyframes d{0%,100%{transform:scale(1)}50%{transform:scale(1.07)}}@keyframes f{0%,100%{transform:scale(1)}50%{transform:scale(1.1)}}#g{margin-top:15px;font-size:1rem;color:#333}#g li{margin-bottom:5px}</style></head><body><table id="h"><thead><tr><th>用電範圍 (度)</th><th>夏季 (元/度)</th><th>非夏季 (元/度)</th></tr></thead><tbody></tbody></table><label for="i">輸入用電量 (度):</label><input type="number" id="i" name="i"><p id="r">總金額: 0 元 (台電計價)</p><span id="j">總金額: 0 元(一度 $5)</span><ul id="g"></ul><script>const k=[{l:0,m:120,n:1.68,o:1.68},{l:120,m:330,n:2.45,o:2.16},{l:330,m:500,n:3.7,o:3.03},{l:500,m:700,n:5.04,o:4.14},{l:700,m:1000,n:6.24,o:5.07},{l:1000,m:Infinity,n:8.46,o:6.63}];function p(q){let s=0,t=[];k.forEach((u,v,w)=>{const x=w[v-1]?.m||0,y=u.m;let z=0;if(q<=x)return;if(u.l===1000&&q>1000)z=(q-u.l)*A(u);else if(q<=y)z=(q-x)*A(u);else if(q>y)z=(y-x)*A(u);z>0&&(s+=z,t.push(`用電範圍 ${u.l}-${u.m===Infinity?'以上':u.m} 度: ${z.toFixed(2)} 元`))});return{s,t}}function A(u){return B()?u.n:u.o}function B(){const C=new Date().getMonth()+1;return C>=6&&C<=9}function D(q){for(let E=k.length-1;E>=0;E--)if(q>k[E].m){if(E>=4)return'e';if(E>=2)return'c';return'a'}return''}function F(){const G=document.querySelector('#h tbody');k.forEach(u=>{const H=document.createElement('tr'),I=document.createElement('td');I.textContent=`${u.l}-${u.m===Infinity?'Infinity':u.m}`,H.appendChild(I);const J=document.createElement('td');J.textContent=u.n,H.appendChild(J);const K=document.createElement('td');K.textContent=u.o,H.appendChild(K),G.appendChild(H)})}document.getElementById('i').addEventListener('input',function(){const q=parseFloat(this.value),{s,t}=p(q)||{s:0,t:[]},r=document.getElementById('r'),j=document.getElementById('j'),g=document.getElementById('g');r.textContent=`總金額: ${s.toFixed(2)} 元 (台電計價)`,j.textContent=`總金額: ${q*5} 元 (一度 5 元)`,r.classList.remove('a','c','e');const L=D(q);L&&r.classList.add(L),g.innerHTML='',t.forEach(M=>{const N=document.createElement('li');N.textContent=M,g.appendChild(N)})}),F();</script></body></html>
