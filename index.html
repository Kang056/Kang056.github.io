<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Electricity Rate Calculator</title><style>body{font-family:Arial,sans-serif;background-color:#f4f9f4;color:#333;margin:0;padding:20px}table{width:100%;border-collapse:collapse;margin-bottom:20px}table,th,td{border:1px solid #4CAF50}th,td{padding:10px;text-align:center}th{background-color:#e8f5e9}label{font-weight:bold;display:block;margin-bottom:10px}input[type="number"]{width:100%;padding:10px;border:2px solid #4CAF50;border-radius:5px;box-sizing:border-box;font-size:1rem;position:relative;z-index:1;background-color:#fff;transition:border-color .3s ease,box-shadow .3s ease}input[type="number"]:focus{border-color:#388E3C;outline:none}#a,#b{font-size:1.2rem;font-weight:bold;margin-top:20px}#a.c,#b.c{animation:d .3s ease-out;color:#FABB00;text-shadow:0 0 10px #FFD700}#a.e,#b.e{animation:f .3s ease-out;color:#FF8C00;text-shadow:0 0 15px #FF8C00}#a.g,#b.g{animation:h .3s ease-out;color:#FF4500;text-shadow:0 0 20px #FF4500}@keyframes d{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}@keyframes f{0%,100%{transform:scale(1)}50%{transform:scale(1.07)}}@keyframes h{0%,100%{transform:scale(1)}50%{transform:scale(1.1)}}#i{margin-top:15px;font-size:1rem;color:#333}#i li{margin-bottom:5px}</style></head><body><label for="j">輸入用電量 (度):</label><input type="number" id="j" name="j"><p id="a">電費總額(夏季): 0 元 (台電計價)</p><p id="b">電費總額(非夏季): 0 元 (台電計價)</p><p id="k">盤子價: 0 元(一度 $5)</p><table id="l"><thead><tr><th>用電範圍 (度)</th><th>使用度數 (度)</th><th>季節</th><th>費率 (元/度)</th><th>電費 (元)</th></tr></thead><tbody><tr><td colspan="6">輸入使用度數</td></tr></tbody></table><p id="m"></p><script>const n=[{o:0,p:120,q:1.68,r:1.68},{o:120,p:330,q:2.45,r:2.16},{o:330,p:500,q:3.7,r:3.03},{o:500,p:700,q:5.04,r:4.14},{o:700,p:1000,q:6.24,r:5.07},{o:1000,p:'以上',q:8.46,r:6.63}];function s(t){let u=0,v=0,w=document.querySelector('#l tbody');if(w)while(w.firstChild)w.removeChild(w.firstChild);n.forEach((x,y,z)=>{const A=z[y-1]?.p||0,B=x.p,C; if(t<=A)return;if(x.o===1000&&t>1000)C=t-x.o;else if(t<=B)C=(t-A);else if(t>B)C=(B-A);if(C>0){u+=C*x.q;v+=C*x.r;const D=document.createElement('tr'),E=document.createElement('td');E.setAttribute('rowspan','2');E.textContent=`${x.o}-${x.p==='以上'?'以上':x.p}`,D.appendChild(E);const F=document.createElement('td');F.setAttribute('rowspan','2');F.textContent=C,D.appendChild(F);const G=document.createElement('td');G.textContent='夏季',D.appendChild(G);const H=document.createElement('td');H.textContent=x.q,D.appendChild(H);const I=document.createElement('td');I.textContent=(C*x.q).toFixed(2),D.appendChild(I);const J=document.createElement('tr'),K=document.createElement('td');K.textContent='非夏季',J.appendChild(K);const L=document.createElement('td');L.textContent=x.r,J.appendChild(L);const M=document.createElement('td');M.textContent=(C*x.r).toFixed(2),J.appendChild(M);w.appendChild(D);w.appendChild(J)}});return{u,v}}function N(){const O=new Date().getMonth()+1;return O>=6&&O<=9}function P(t){for(let Q=n.length-1;Q>=0;Q--)if(t>n[Q].p){if(Q>=4)return'g';if(Q>=2)return'e';return'c'}return''}document.getElementById('j').addEventListener('input',function(){const t=parseFloat(this.value),{u,v}=s(t)||{u:0,v:0},a=document.getElementById('a'),b=document.getElementById('b'),k=document.getElementById('k'),m=document.getElementById('m');m.textContent=`目前季節: ${N()?'夏季 (6/1 - 9/30)':'非夏季 (1/1 - 5/30, 10/1 - 12/30)'}`;a.textContent=`電費總額(夏季): ${u.toFixed(2)} 元 (台電計價)`;b.textContent=`電費總額(非夏季): ${v.toFixed(2)} 元 (台電計價)`;k.textContent=`${((t*5)>(u.toFixed(2))?'盤子價:':'破盤價:')} ${t*5} 元 (一度 5 元)`;a.classList.remove('c','e','g');b.classList.remove('c','e','g');const R=P(t);R&&(a.classList.add(R),b.classList.add(R))});</script></body></html>
